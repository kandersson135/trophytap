<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
		<meta name="theme-color" content="#000000">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="mobile-web-app-capable" content="yes">

		<link rel="apple-touch-icon" href="img/webapp-icon.png">
		<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">

		<title>Trophy Tap</title>

		<!-- css -->
		<link rel="stylesheet" href="css/main.css">
		<style style="text/css">
			body {overflow:scroll;}
			.container {background: none;}
		</style>
	</head>
	<body>
		<div class="container">
			<div id="top-buttons">
				<div class="two-third">
					<a href="index.html" id="trophy-btn"><img src="img/icons/back.png"> BACK</a>
				</div>
				<div class="one-third last">
					<div id="trophy-title">TROPHIES</div>
				</div>
			</div><!-- end top-buttons -->

			<div class="spacer"></div><!-- END SPACER -->

			<div id="trophy-container" class="center">
      	<p class="trophy-title">CANDY</p>

        <div class="one-third">
          <div class="trophy-item">
            <p>Candy</p>
        	  <div class="tool"><img src="img/icons/wrapped-sweet.png"></div>
        	  <p id="t1"><img src="img/icons/click.png" class="trophy-icon">1 000</p>
        	</div>
        </div>

        <div class="one-third">
          <div class="trophy-item">
            <p>Lollipop</p>
        	  <div class="tool"><img src="img/icons/spiral-lollipop.png"></div>
        	  <p id="t2"><img src="img/icons/click.png" class="trophy-icon">5 000</p>
        	</div>
        </div>

        <div class="one-third last">
        	<div class="trophy-item">
            <p>Chocolate</p>
        	  <div class="tool"><img src="img/icons/chocolate-bar.png"></div>
        	  <p id="t3"><img src="img/icons/click.png" class="trophy-icon">10 000</p>
        	</div>
        </div>

        <div class="spacer"></div><!-- END SPACER -->

        <p class="trophy-title">FAST FOOD</p>

        <div class="one-third">
          <div class="trophy-item">
            <p>Tacos</p>
        	  <div class="tool"><img src="img/icons/tacos.png"></div>
        	  <p id="t4"><img src="img/icons/click.png" class="trophy-icon">15 000</p>
        	</div>
        </div>

        <div class="one-third">
          <div class="trophy-item">
            <p>Hamburger</p>
        	  <div class="tool"><img src="img/icons/hamburger.png"></div>
        	  <p id="t5"><img src="img/icons/click.png" class="trophy-icon">20 000</p>
        	</div>
        </div>

        <div class="one-third last">
        	<div class="trophy-item">
            <p>Pizza</p>
        	  <div class="tool"><img src="img/icons/pizza.png"></div>
        	  <p id="t6"><img src="img/icons/click.png" class="trophy-icon">30 000</p>
        	</div>
        </div>

        <div class="spacer"></div><!-- END SPACER -->

        <p class="trophy-title">DESSERT</p>

        <div class="one-third">
          <div class="trophy-item">
            <p>Cookie</p>
        	  <div class="tool"><img src="img/icons/cookie.png"></div>
        	  <p id="t7"><img src="img/icons/click.png" class="trophy-icon">55 000</p>
        	</div>
        </div>

        <div class="one-third">
          <div class="trophy-item">
            <p>Donut</p>
        	  <div class="tool"><img src="img/icons/donut.png"></div>
        	  <p id="t8"><img src="img/icons/click.png" class="trophy-icon">75 000</p>
        	</div>
        </div>

        <div class="one-third last">
        	<div class="trophy-item">
            <p>Cupcake</p>
        	  <div class="tool"><img src="img/icons/cupcake.png"></div>
        	  <p id="t9"><img src="img/icons/click.png" class="trophy-icon">99 999</p>
        	</div>
        </div>

        <div class="spacer"></div><!-- END SPACER -->

        <p class="trophy-title">FRUIT</p>

        <div class="one-third">
          <div class="trophy-item">
            <p>Banana</p>
        	  <div class="tool"><img src="img/icons/banana.png"></div>
        	  <p id="t10"><img src="img/icons/click.png" class="trophy-icon">150 000</p>
        	</div>
        </div>

        <div class="one-third">
          <div class="trophy-item">
            <p>Pear</p>
        	  <div class="tool"><img src="img/icons/pear.png"></div>
        	  <p id="t11"><img src="img/icons/click.png" class="trophy-icon">225 000</p>
        	</div>
        </div>

        <div class="one-third last">
        	<div class="trophy-item">
            <p>Apple</p>
        	  <div class="tool"><img src="img/icons/apple.png"></div>
        	  <p id="t12"><img src="img/icons/click.png" class="trophy-icon">350 000</p>
        	</div>
        </div>

        <div class="spacer"></div><!-- END SPACER -->

        <p class="trophy-title">ANIMALS</p>

        <div class="one-third">
          <div class="trophy-item">
            <p>Duck</p>
        	  <div class="tool"><img src="img/icons/duck.png"></div>
        	  <p id="t13"><img src="img/icons/click.png" class="trophy-icon">500 000</p>
        	</div>
        </div>

        <div class="one-third">
          <div class="trophy-item">
            <p>Koala</p>
        	  <div class="tool"><img src="img/icons/koala.png"></div>
        	  <p id="t14"><img src="img/icons/click.png" class="trophy-icon">750 000</p>
        	</div>
        </div>

        <div class="one-third last">
        	<div class="trophy-item">
            <p>Unicorn</p>
        	  <div class="tool"><img src="img/icons/unicorn.png"></div>
        	  <p id="t15"><img src="img/icons/click.png" class="trophy-icon">999 999</p>
        	</div>
        </div>

				<div class="spacer"></div><!-- END SPACER -->

        <p class="trophy-title">ANIMALS 2</p>

        <div class="one-third">
          <div class="trophy-item">
            <p>Bat</p>
        	  <div class="tool"><img src="img/icons/bat.png"></div>
        	  <p id="t16"><img src="img/icons/click.png" class="trophy-icon">1.25M</p>
        	</div>
        </div>

        <div class="one-third">
          <div class="trophy-item">
            <p>Axolotl</p>
        	  <div class="tool"><img src="img/icons/axolotl.png"></div>
        	  <p id="t17"><img src="img/icons/click.png" class="trophy-icon">1.75M</p>
        	</div>
        </div>

        <div class="one-third last">
        	<div class="trophy-item">
            <p>Capybara</p>
        	  <div class="tool"><img src="img/icons/capybara.png"></div>
        	  <p id="t18"><img src="img/icons/click.png" class="trophy-icon">5M</p>
        	</div>
        </div>

        <div class="bottom-spacer"></div><!-- END SPACER -->

      </div><!-- end collection -->
		</div><!-- end container -->

		<!-- js -->
		<script src="js/jquery-3.4.1.min.js"></script>
		<script>
		  $(document).ready(function() {
	    	// Fade in wrapper
      	$('.container').hide();
      	$('.container').fadeIn(1000);

		    var counter = localStorage.getItem("tm-counter");
		    var taps;
		    var result;

        for (var i = 1; i < 18; i++) {
          taps = ($("#t" + i).text());
          //result = taps.replace(/ /g, "");
					result = parseNumberWithMagnitude(taps);
					console.log(result);

          if (parseInt(counter) >= parseInt(result)) {
            $("#t" + i).text("Collected!");
            $("#t" + i).prev(".tool").addClass("collected");
          }
        }

				function parseNumberWithMagnitude(input) {
			    const magnitudeMap = {
			        'K': 1e3,
			        'M': 1e6,
			        'B': 1e9,
			    };

			    const cleanedInput = input.replace(/\s/g, ''); // Remove spaces
			    const regex = /^(\d+(\.\d+)?)([KMB])?$/;
			    const match = cleanedInput.match(regex);

			    if (match) {
			        const value = parseFloat(match[1]);
			        const magnitude = match[3] ? magnitudeMap[match[3]] : 1;
			        return value * magnitude;
			    } else {
			        // Handle invalid input or return NaN as needed
			        return NaN;
			    }
				}
      });
		</script>
	</body>
</html>
